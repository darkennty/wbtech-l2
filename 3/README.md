# L2.3

## Задача

Что выведет программа?

Объяснить внутреннее устройство интерфейсов и их отличие от пустых интерфейсов.
```
package main

import (
    "fmt"
    "os"
)

func Foo() error {
    var err *os.PathError = nil
    return err
}

func main() {
    err := Foo()
    fmt.Println(err)
    fmt.Println(err == nil)
}
```

## Решение

Значение интерфейса складывается из двух полей: 1) указателя на таблицу с информацией о типе данных, реализующем интерфейс, и 2) указателя на данные. Если значение одного из полей не равно nil, значение интерфейса не равно nil.

Функция Foo() возвращает значение любого типа данных, удовлетворяющего интерфейс error. В случае реализации данной функции возвращается переменная типа указателя на os.PathError со значением nil. Результат функции сохраняется в переменную err.

Если вывести значение переменной err, получим nil, так как переменная не хранит никаких данных. Но в переменной err, помимо данных, хранится и информация о значении типа, реализующем интерфейс error, и это значение не равно nil (известен тип os.PathError).

Таким образом, при сравнении переменной err с nil получаем false, так как, хоть значение данных интерфейса и равно nil, значение типа интерфейса не равно nil.

## Пример запуска программы

```
$ go run 3/main.go
<nil>
false
```